{"version":3,"file":"static/js/reviews-page.68dba98c.chunk.js","mappings":"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","sources":["webpack://goit-react-hw-05--movies/./src/components/ErrorMessage/ErrorMessage.module.css?d773","components/ErrorMessage/ErrorMessage.jsx","webpack://goit-react-hw-05--movies/./src/components/Loader/Loader.module.css?d03f","components/Loader/Loader.jsx","services/apiMovies.jsx","../node_modules/react-simple-show-more/es/index.js","webpack://goit-react-hw-05--movies/./src/views/Reviews/Reviews.module.css?ff11","views/Reviews/Reviews.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"content\":\"ErrorMessage_content__yYcYy\",\"img\":\"ErrorMessage_img__ftSmX\",\"text\":\"ErrorMessage_text__wxNos\"};","import PropTypes from 'prop-types';\nimport errorImg from '../../images/error-image.jpg';\nimport s from './ErrorMessage.module.css';\n\nconst ErrorMessage = ({ message }) => {\n  return (\n    <div role=\"alert\" className={s.content}>\n      <img src={errorImg} width=\"600\" alt=\"not found\" className={s.img} />\n\n      <p text={message} className={s.text}>\n        {message}\n      </p>\n    </div>\n  );\n};\n\nErrorMessage.propTypes = {\n  message: PropTypes.string.isRequired,\n};\n\nexport default ErrorMessage;\n","// extracted by mini-css-extract-plugin\nexport default {\"loader\":\"Loader_loader__+lRPl\"};","import RingLoader from 'react-spinners/RingLoader';\nimport s from './Loader.module.css';\n\nconst Loader = () => {\n  return (\n    <div className={s.loader}>\n      <RingLoader size={100} color=\"var(--accent-color)\" />\n    </div>\n  );\n};\n\nexport default Loader;\n","const API_URL = 'https://api.themoviedb.org/3';\nconst API_KEY = '8291bfa5fdbbfe1b8899750e95db67c5';\n\nasync function apiMovies(url = '', config = {}) {\n  const response = await fetch(url, config);\n  return response.ok\n    ? await response.json()\n    : Promise.reject(\n        new Error('404 Not Found ðŸ˜” The resource requested could not be found')\n      );\n}\n\nexport function fetchTrending() {\n  return apiMovies(`${API_URL}/trending/movie/day?api_key=${API_KEY}`);\n}\n\nexport function fetchSearchMovies(query) {\n  return apiMovies(\n    `${API_URL}/search/movie?api_key=${API_KEY}&query=${query}&language=en-US&page=1&include_adult=false`\n  );\n}\n\nexport function fetchMovieDetails(movieId) {\n  return apiMovies(\n    `${API_URL}/movie/${movieId}?api_key=${API_KEY}&language=en-US`\n  );\n}\n\nexport function fetchMovieCredits(movieId) {\n  return apiMovies(\n    `${API_URL}/movie/${movieId}/credits?api_key=${API_KEY}&language=en-US`\n  );\n}\n\nexport function fetchMovieReviews(movieId) {\n  return apiMovies(\n    `${API_URL}/movie/${movieId}/reviews?api_key=${API_KEY}&language=en-US&page=1`\n  );\n}\n","var _class, _temp;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nvar ShowMore = (_temp = _class = function (_Component) {\n  _inherits(ShowMore, _Component);\n\n  function ShowMore(props) {\n    _classCallCheck(this, ShowMore);\n\n    var _this = _possibleConstructorReturn(this, _Component.call(this, props));\n\n    _this.shouldTruncateString = function (string) {\n      return string.length > parseInt(_this.props.length);\n    };\n\n    _this.truncatedString = function (string) {\n      return string.slice(0, _this.props.length).split(' ').slice(0, -1).join(' ');\n    };\n\n    _this.toggleShowMore = function (event) {\n      if (event && event.preventDefault) event.preventDefault();\n      _this.setState(function (prevState) {\n        return { showMore: !prevState.showMore };\n      });\n    };\n\n    _this.state = {\n      showMore: false\n    };\n    return _this;\n  }\n\n  ShowMore.prototype.render = function render() {\n    var showMore = this.state.showMore;\n    var _props = this.props,\n        text = _props.text,\n        enabled = _props.enabled,\n        className = _props.className,\n        style = _props.style,\n        ellipsis = _props.ellipsis,\n        showMoreLabel = _props.showMoreLabel,\n        showLessLabel = _props.showLessLabel;\n\n    var Tag = this.props.tag;\n    if (enabled && this.shouldTruncateString(text)) {\n      return React.createElement(\n        React.Fragment,\n        null,\n        !showMore && '' + this.truncatedString(text) + ellipsis,\n        showMore && text,\n        React.createElement(\n          Tag,\n          {\n            className: className,\n            onClick: this.toggleShowMore,\n            style: style\n          },\n          showMore ? showLessLabel : showMoreLabel\n        )\n      );\n    }\n    return React.createElement(\n      React.Fragment,\n      null,\n      text\n    );\n  };\n\n  return ShowMore;\n}(Component), _class.defaultProps = {\n  enabled: true,\n  length: 170,\n  className: '',\n  tag: 'span',\n  style: {\n    cursor: 'pointer',\n    color: '#007bff'\n  },\n  ellipsis: '...',\n  showMoreLabel: ' Show more',\n  showLessLabel: ' Show less'\n}, _temp);\nShowMore.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  text: PropTypes.string.isRequired,\n  enabled: PropTypes.any,\n  length: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  className: PropTypes.string,\n  tag: PropTypes.string,\n  style: PropTypes.object,\n  ellipsis: PropTypes.string,\n  showMoreLabel: PropTypes.string,\n  showLessLabel: PropTypes.string\n} : {};\n\n\nexport default ShowMore;","// extracted by mini-css-extract-plugin\nexport default {\"item\":\"Reviews_item__Nzdax\",\"author\":\"Reviews_author__NQfuB\",\"content\":\"Reviews_content__gZ7du\"};","import { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport ShowMore from 'react-simple-show-more';\n\nimport * as apiMovies from '../../services/apiMovies';\n\nimport Loader from 'components/Loader';\nimport ErrorMessage from 'components/ErrorMessage';\n\nimport s from './Reviews.module.css';\n\nconst Reviews = () => {\n  const { movieId } = useParams();\n\n  const [reviews, setReviews] = useState(null);\n  const [error, setError] = useState(null);\n  const [status, setStatus] = useState('idle');\n\n  useEffect(() => {\n    setStatus('pending');\n\n    apiMovies\n      .fetchMovieReviews(movieId)\n      .then(({ results }) => {\n        if (results.length === 0) {\n          setStatus('idle');\n          return;\n        }\n        setReviews(results);\n        setStatus('resolved');\n      })\n      .catch(error => {\n        setError('PLEASE, TRY AGAIN');\n        setStatus('rejected');\n      });\n  }, [movieId]);\n\n  return (\n    <>\n      {status === 'pending' && <Loader />}\n\n      {status === 'rejected' && <ErrorMessage message={error.message} />}\n\n      {status === 'resolved' && (\n        <ul>\n          {reviews.map(({ id, author, content }) => (\n            <li className={s.item} key={id}>\n              <h3 className={s.author}>Author: {author}</h3>\n\n              <p className={s.content}>\n                <ShowMore\n                  text={content}\n                  length={600}\n                  showMoreLabel=\" Show more >>\"\n                  showLessLabel=\" Show more <<\"\n                  style={{\n                    fontWeight: 'bold',\n                    color: '#dc3545',\n                    cursor: 'pointer',\n                  }}\n                />\n              </p>\n            </li>\n          ))}\n        </ul>\n      )}\n    </>\n  );\n};\n\nexport default Reviews;\n"],"names":["message","role","className","s","src","errorImg","width","alt","text","size","color","API_URL","API_KEY","apiMovies","url","config","fetch","response","ok","json","Promise","reject","Error","fetchTrending","fetchSearchMovies","query","fetchMovieDetails","movieId","fetchMovieCredits","fetchMovieReviews","_class","_temp","ShowMore","_Component","props","instance","Constructor","TypeError","_classCallCheck","this","_this","self","call","ReferenceError","_possibleConstructorReturn","shouldTruncateString","string","length","parseInt","truncatedString","slice","split","join","toggleShowMore","event","preventDefault","setState","prevState","showMore","state","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","_inherits","render","_props","enabled","style","ellipsis","showMoreLabel","showLessLabel","Tag","tag","React","onClick","Component","defaultProps","cursor","propTypes","useParams","useState","reviews","setReviews","error","setError","status","setStatus","useEffect","then","results","catch","Loader","ErrorMessage","map","id","author","content","fontWeight"],"sourceRoot":""}
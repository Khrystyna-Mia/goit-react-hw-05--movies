"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[163],{482:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(852),o="ErrorMessage_content__yYcYy",s="ErrorMessage_img__ftSmX",c="ErrorMessage_text__wxNos",a=n(184),i=function(e){var t=e.message;return(0,a.jsxs)("div",{role:"alert",className:o,children:[(0,a.jsx)("img",{src:r,width:"600",alt:"not found",className:s}),(0,a.jsx)("p",{text:t,className:c,children:t})]})}},540:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(206),o=n.n(r),s="Loader_loader__+lRPl",c=n(184),a=function(){return(0,c.jsx)("div",{className:s,children:(0,c.jsx)(o(),{size:100,color:"var(--accent-color)"})})}},573:function(e,t,n){n.d(t,{Hx:function(){return d},Tg:function(){return l},Y5:function(){return h},bI:function(){return f},xc:function(){return p}});var r=n(861),o=n(757),s=n.n(o),c="https://api.themoviedb.org/3",a="8291bfa5fdbbfe1b8899750e95db67c5";function i(){return u.apply(this,arguments)}function u(){return u=(0,r.Z)(s().mark((function e(){var t,n,r,o=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:"",n=o.length>1&&void 0!==o[1]?o[1]:{},e.next=4,fetch(t,n);case 4:if(!(r=e.sent).ok){e.next=11;break}return e.next=8,r.json();case 8:e.t0=e.sent,e.next=12;break;case 11:e.t0=Promise.reject(new Error("404 Not Found \ud83d\ude14 The resource requested could not be found"));case 12:return e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e)}))),u.apply(this,arguments)}function l(){return i("".concat(c,"/trending/movie/day?api_key=").concat(a))}function f(e){return i("".concat(c,"/search/movie?api_key=").concat(a,"&query=").concat(e,"&language=en-US&page=1&include_adult=false"))}function h(e){return i("".concat(c,"/movie/").concat(e,"?api_key=").concat(a,"&language=en-US"))}function p(e){return i("".concat(c,"/movie/").concat(e,"/credits?api_key=").concat(a,"&language=en-US"))}function d(e){return i("".concat(c,"/movie/").concat(e,"/reviews?api_key=").concat(a,"&language=en-US&page=1"))}},267:function(e,t,n){n.r(t),n.d(t,{default:function(){return w}});var r,o,s=n(152),c=n(791),a=n(871),i=n(562);var u=(o=r=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,n));return r.shouldTruncateString=function(e){return e.length>parseInt(r.props.length)},r.truncatedString=function(e){return e.slice(0,r.props.length).split(" ").slice(0,-1).join(" ")},r.toggleShowMore=function(e){e&&e.preventDefault&&e.preventDefault(),r.setState((function(e){return{showMore:!e.showMore}}))},r.state={showMore:!1},r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.state.showMore,t=this.props,n=t.text,r=t.enabled,o=t.className,s=t.style,a=t.ellipsis,i=t.showMoreLabel,u=t.showLessLabel,l=this.props.tag;return r&&this.shouldTruncateString(n)?c.createElement(c.Fragment,null,!e&&""+this.truncatedString(n)+a,e&&n,c.createElement(l,{className:o,onClick:this.toggleShowMore,style:s},e?u:i)):c.createElement(c.Fragment,null,n)},t}(c.Component),r.defaultProps={enabled:!0,length:170,className:"",tag:"span",style:{cursor:"pointer",color:"#007bff"},ellipsis:"...",showMoreLabel:" Show more",showLessLabel:" Show less"},o);u.propTypes={};var l=u,f=n(573),h=n(540),p=n(482),d="Reviews_item__Nzdax",g="Reviews_author__NQfuB",m="Reviews_text__o-6ko",_="Reviews_content__gZ7du",v=n(184),w=function(){var e=(0,a.UO)().movieId,t=(0,c.useState)(null),n=(0,s.Z)(t,2),r=n[0],o=n[1],u=(0,c.useState)(null),w=(0,s.Z)(u,2),b=w[0],x=w[1],y=(0,c.useState)("idle"),S=(0,s.Z)(y,2),j=S[0],N=S[1];return(0,c.useEffect)((function(){N("pending"),f.Hx(e).then((function(e){var t=e.results;if(0===t.length)return i.Notify.failure("WE DONT HAVE ANY REWIEWS FOR THIS MOVIES\ud83d\ude15",{position:"right-top",width:"500px",fontSize:"20px"}),void N("idle");o(t),N("resolved")})).catch((function(e){x("PLEASE, TRY AGAIN"),N("rejected")}))}),[e]),(0,v.jsxs)(v.Fragment,{children:["pending"===j&&(0,v.jsx)(h.Z,{}),"rejected"===j&&(0,v.jsx)(p.Z,{message:b}),"resolved"===j&&(0,v.jsx)("ul",{children:r.map((function(e){var t=e.id,n=e.author,r=e.content;return(0,v.jsxs)("li",{className:d,children:[(0,v.jsxs)("h3",{className:g,children:["Author: ",(0,v.jsx)("span",{className:m,children:n})]}),(0,v.jsx)("p",{className:_,children:(0,v.jsx)(l,{text:r,length:600,showMoreLabel:" Show more >>",showLessLabel:" Show more <<",style:{fontWeight:"bold",color:"#dc3545",cursor:"pointer"}})})]},t)}))})]})}},852:function(e,t,n){e.exports=n.p+"static/media/error-image.ff3c705f3510c44cc252.jpg"}}]);
//# sourceMappingURL=reviews-page.ec5a7830.chunk.js.map